<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="layout">
<body>

<div layout:fragment="content">
  <h2 th:text="${product.name}"></h2>
  <h3>タグ</h3>
  <form th:action="@{/products/{productId}/tags(productId=${product.id})}" method="post">
    <select name="tagId">
      <option th:each="tag : ${tagList}" th:text="${tag.name}" th:value="${tag.id}"></option>
    </select>
    <button type="submit">登録</button>
  </form>
  <ul>
    <li th:each="tag : ${product.tagList}"><a
        th:href="@{/tags/{tagId}(tagId=${tag.id})}" th:text="${tag.name}"></a>
      <form
          th:action="@{/products/{productId}/tags/{tagId}(productId=${product.id},tagId=${tag.id})}"
          method="post">
        <button type="submit" name="_method" value="delete">削除</button>
      </form>
    </li>
  </ul>
</div>
</body>
</html>
